import{s as B,n as A,o as G}from"../chunks/scheduler.Xv6xCyqb.js";import{S as Q,i as U,g as z,s as M,H as X,A as Y,h as _,f as w,c as W,j,x as K,C as k,k as N,y as $,a as F}from"../chunks/index.j-nDxe9H.js";import{h as H}from"../chunks/he.7-07Z6OX.js";const ce=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function d(){}d.prototype={diff:function(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=o.callback;typeof o=="function"&&(r=o,o={}),this.options=o;var i=this;function f(a){return r?(setTimeout(function(){r(void 0,a)},0),!0):a}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));var l=t.length,u=e.length,s=1,c=l+u;o.maxEditLength&&(c=Math.min(c,o.maxEditLength));var p=[{newPos:-1,components:[]}],v=this.extractCommon(p[0],t,e,0);if(p[0].newPos+1>=l&&v+1>=u)return f([{value:this.join(t),count:t.length}]);function m(){for(var a=-1*s;a<=s;a+=2){var h=void 0,y=p[a-1],C=p[a+1],E=(C?C.newPos:0)-a;y&&(p[a-1]=void 0);var q=y&&y.newPos+1<l,I=C&&0<=E&&E<u;if(!q&&!I){p[a]=void 0;continue}if(!q||I&&y.newPos<C.newPos?(h=b(C),i.pushComponent(h.components,void 0,!0)):(h=y,h.newPos++,i.pushComponent(h.components,!0,void 0)),E=i.extractCommon(h,t,e,a),h.newPos+1>=l&&E+1>=u)return f(P(i,h.components,t,e,i.useLongestToken));p[a]=h}s++}if(r)(function a(){setTimeout(function(){if(s>c)return r();m()||a()},0)})();else for(;s<=c;){var x=m();if(x)return x}},pushComponent:function(e,t,o){var r=e[e.length-1];r&&r.added===t&&r.removed===o?e[e.length-1]={count:r.count+1,added:t,removed:o}:e.push({count:1,added:t,removed:o})},extractCommon:function(e,t,o,r){for(var i=t.length,f=o.length,l=e.newPos,u=l-r,s=0;l+1<i&&u+1<f&&this.equals(t[l+1],o[u+1]);)l++,u++,s++;return s&&e.components.push({count:s}),e.newPos=l,u},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],o=0;o<e.length;o++)e[o]&&t.push(e[o]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};function P(n,e,t,o,r){for(var i=0,f=e.length,l=0,u=0;i<f;i++){var s=e[i];if(s.removed){if(s.value=n.join(o.slice(u,u+s.count)),u+=s.count,i&&e[i-1].added){var p=e[i-1];e[i-1]=e[i],e[i]=p}}else{if(!s.added&&r){var c=t.slice(l,l+s.count);c=c.map(function(m,x){var a=o[u+x];return a.length>m.length?a:m}),s.value=n.join(c)}else s.value=n.join(t.slice(l,l+s.count));l+=s.count,s.added||(u+=s.count)}}var v=e[f-1];return f>1&&typeof v.value=="string"&&(v.added||v.removed)&&n.equals("",v.value)&&(e[f-2].value+=v.value,e.pop()),e}function b(n){return{newPos:n.newPos,components:n.components.slice(0)}}function S(n,e){if(typeof n=="function")e.callback=n;else if(n)for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}var R=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,J=/\S/,O=new d;O.equals=function(n,e){return this.options.ignoreCase&&(n=n.toLowerCase(),e=e.toLowerCase()),n===e||this.options.ignoreWhitespace&&!J.test(n)&&!J.test(e)};O.tokenize=function(n){for(var e=n.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),t=0;t<e.length-1;t++)!e[t+1]&&e[t+2]&&R.test(e[t])&&R.test(e[t+2])&&(e[t]+=e[t+2],e.splice(t+1,2),t--);return e};function ee(n,e,t){return t=S(t,{ignoreWhitespace:!0}),O.diff(n,e,t)}var Z=new d;Z.tokenize=function(n){var e=[],t=n.split(/(\n|\r\n)/);t[t.length-1]||t.pop();for(var o=0;o<t.length;o++){var r=t[o];o%2&&!this.options.newlineIsToken?e[e.length-1]+=r:(this.options.ignoreWhitespace&&(r=r.trim()),e.push(r))}return e};var ne=new d;ne.tokenize=function(n){return n.split(/(\S.+?[.!?])(?=\s+|$)/)};var te=new d;te.tokenize=function(n){return n.split(/([{}:;,]|\s+)/)};function L(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?L=function(e){return typeof e}:L=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(n)}var oe=Object.prototype.toString,g=new d;g.useLongestToken=!0;g.tokenize=Z.tokenize;g.castInput=function(n){var e=this.options,t=e.undefinedReplacement,o=e.stringifyReplacer,r=o===void 0?function(i,f){return typeof f>"u"?t:f}:o;return typeof n=="string"?n:JSON.stringify(T(n,null,null,r),r,"  ")};g.equals=function(n,e){return d.prototype.equals.call(g,n.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))};function T(n,e,t,o,r){e=e||[],t=t||[],o&&(n=o(r,n));var i;for(i=0;i<e.length;i+=1)if(e[i]===n)return t[i];var f;if(oe.call(n)==="[object Array]"){for(e.push(n),f=new Array(n.length),t.push(f),i=0;i<n.length;i+=1)f[i]=T(n[i],e,t,o,r);return e.pop(),t.pop(),f}if(n&&n.toJSON&&(n=n.toJSON()),L(n)==="object"&&n!==null){e.push(n),f={},t.push(f);var l=[],u;for(u in n)n.hasOwnProperty(u)&&l.push(u);for(l.sort(),i=0;i<l.length;i+=1)u=l[i],f[u]=T(n[u],e,t,o,u);e.pop(),t.pop()}else f=n;return f}var D=new d;D.tokenize=function(n){return n.slice()};D.join=D.removeEmpty=function(n){return n};function ie(n){let e,t,o,r,i="Diff Concept",f,l,u=n[0].map(V).join("")+"";return{c(){e=z("meta"),t=M(),o=z("main"),r=z("h1"),r.textContent=i,f=M(),l=new X(!1),this.h()},l(s){const c=Y("svelte-1fjml4b",document.head);e=_(c,"META",{name:!0,content:!0}),c.forEach(w),t=W(s),o=_(s,"MAIN",{});var p=j(o);r=_(p,"H1",{"data-svelte-h":!0}),K(r)!=="svelte-1r8s5vz"&&(r.textContent=i),f=W(p),l=k(p,!1),p.forEach(w),this.h()},h(){document.title="CKEditor",N(e,"name","description"),N(e,"content","CKEditor"),l.a=null},m(s,c){$(document.head,e),F(s,t,c),F(s,o,c),$(o,r),$(o,f),l.m(u,o)},p(s,[c]){c&1&&u!==(u=s[0].map(V).join("")+"")&&l.p(u)},i:A,o:A,d(s){s&&(w(t),w(o)),w(e)}}}let re="<p>This is the Modified content.</p>",se="<p>This is the modified content.</p>";const V=n=>n.value;function ue(n,e,t){let o=[];G(()=>{r()});function r(){const i=ee(H.decode(re),H.decode(se));t(0,o=i.map(({value:f,added:l,removed:u})=>({value:l?`<ins>${f}</ins>`:u?`<del>${f}</del>`:f,added:l,removed:u})))}return[o]}class pe extends Q{constructor(e){super(),U(this,e,ue,ie,B,{})}}export{pe as component,ce as universal};
